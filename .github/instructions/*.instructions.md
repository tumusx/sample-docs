---
applyTo: "**/*.kt"
---
# Kotlin Coding Standards
This file defines Kotlin coding, architecture, and testing conventions for Copilot code review.

## Pull Request Review Scope

### Files to review
Only review files under:
- composeApp/src/commonMain/**
- composeApp/src/iosMain/**
- composeApp/src/commonTest/**

### Files to ignore
Ignore completely:
- **/build/**
- **/.gradle/**
- **/.idea/**
- **/iosApp/**
- **/composeApp/src/**/generated/**
- generated files
- configuration-only changes

---

## Review Guidelines

## Naming Conventions
**MANDATORY** — Always check and enforce:

- **Classes, Interfaces, Sealed Classes, and Objects**  
  Must use **PascalCase (UpperCamelCase)**  
  Examples: `PostRepository`, `GetPostsUseCase`, `MainViewModel`

- **Functions, Variables, and Properties**  
  Must use **camelCase (lowerCamelCase)**  
  Examples: `getPosts()`, `userName`, `isLoading`

- **Constants (`const val`)**  
  Must use **UPPER_SNAKE_CASE**  
  Examples: `MAX_RETRY_COUNT`, `DEFAULT_TIMEOUT`

- **Packages**  
  Must use **lowercase**, separated by dots  
  Examples: `com.tumusx.multiplatform.domain.usecase`

If naming violations are found:
- Comment on each violation with the correct naming pattern
- Provide the corrected name suggestion
- Mark as **blocking** if the violation impacts readability or public API clarity

---

## Clean Code
Evaluate and comment on:

- Naming clarity and intention-revealing identifiers
- Single responsibility for functions and classes
- Readability and long-term maintainability
- Avoidance of unnecessary abstractions
- Proper use of immutability (`val` over `var`)
- Explicit and meaningful types (avoid type inference when it harms readability)
- Removal of dead, duplicated, or misleading code

You MAY:
- Propose **large refactors**
- Suggest splitting or merging classes/files
- Suggest rewriting functions or modules for clarity and correctness

---

## Clean Architecture
Evaluate and comment on:

- Clear separation of concerns
- Responsibility boundaries across modules and layers
- **Dependency direction**  
  (business/core logic must not depend on UI, platform, or framework-specific code)
- Proper isolation of platform-specific implementations
- Testability and independence of business logic

You MAY:
- Propose architectural changes
- Suggest moving code across layers or modules
- Recommend introducing or removing abstractions
- Suggest restructuring files or packages when beneficial

You SHOULD:
- Clearly explain the motivation and benefits of major changes
- Prefer correctness, clarity, and maintainability over minimal diffs

---

## Unit Testing Requirements
**MANDATORY** — Always check and enforce:

### Test Coverage for Simple Methods
For each **simple method** introduced or modified in the PR, verify that unit tests exist.

**Simple methods** are defined as methods that:
- Perform data transformations or calculations
- Have clear input/output
- Can be tested in isolation
- Examples: mappers, validators, formatters, simple business logic

### If Tests Are Missing
When simple methods lack tests:

1. Identify the missing coverage in the review
2. **Implement the missing unit tests**
3. Follow existing test patterns in the codebase

### Test Standards
- Use `kotlin.test` for Kotlin Multiplatform
- Place shared tests in `commonTest`
- Use descriptive test names following pattern:  
  `methodName_scenario_expectedResult`

Example:
```kotlin
getPosts_whenRepositoryReturnsData_shouldReturnSuccess()
